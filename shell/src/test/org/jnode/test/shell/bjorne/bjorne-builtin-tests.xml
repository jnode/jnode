<testSet title="Bjorne interpreter tests">
    <plugin id="org.jnode.shell.bjorne" class="org.jnode.test.shell.bjorne.BjornePseudoPlugin"/>
    <plugin id="org.jnode.command.common"/>
    <testSpec title="exit 0" command="test" runMode="AS_SCRIPT" rc="0">
        <script>#!bjorne
                exit 0
        </script>
    </testSpec>
    <testSpec title="exit 99" runMode="AS_SCRIPT" rc="99">
        <script>#!bjorne
                exit 99
        </script>
    </testSpec>
    <testSpec title="alias" command="test" runMode="AS_SCRIPT" rc="0">
        <script>#!bjorne
                alias &gt; @TEMP_DIR@/1
        </script>
        <file name="1" input="false"></file>
    </testSpec>
    <testSpec title="alias 2" command="test" runMode="AS_SCRIPT" rc="1">
        <script>#!bjorne
                alias fred
        </script>
        <error>alias: fred not found
</error>
    </testSpec>
    <testSpec title="alias 3" command="test" runMode="AS_SCRIPT" rc="0">
        <script>#!bjorne
                alias fred=ls
                alias fred
                alias jim="echo hi"
                alias jim
                alias
        </script>
        <output>fred='ls'
jim='echo hi'
fred='ls'
jim='echo hi'
</output>
    </testSpec>
    <testSpec title="alias 4" command="test" runMode="AS_SCRIPT" rc="0">
        <script>#!bjorne
                alias fred="echo hi"
                fred
                fred ho
                fred fred
        </script>
        <output>hi
hi ho
hi fred
</output>
    </testSpec>
    <testSpec title="alias 5" command="test" runMode="AS_SCRIPT" rc="0">
        <script>#!bjorne
                alias fred="echo hi "
                fred
                fred ho
                fred fred
        </script>
        <output>hi
hi ho
hi echo hi
</output>
    </testSpec>
    <testSpec title="unalias" command="test" runMode="AS_SCRIPT" rc="0">
        <script>#!bjorne
                alias fred=ls
                alias jim="echo hi"
                unalias jim
                alias
                unalias -a
                alias
        </script>
        <output>fred='ls'
</output>
    </testSpec>
    <testSpec title="builtins recognized early" command="test" runMode="AS_SCRIPT" rc="0">
        <script>#!bjorne
                alias fred=ls
                alias
                unalias -a
                echo done
                UNALIAS=unalias
                alias fred=dir
                alias
                $UNALIAS -a
                echo done
        </script>
        <output>fred='ls'
done
fred='dir'
done
</output>
        <error>Cannot find an alias or load a command class for 'unalias'
</error>
    </testSpec>
</testSet>