<testSpecs>
    <title>Bjorne interpreter tests</title>
    <plugin>
        <id>org.jnode.shell.bjorne</id>
        <class>org.jnode.test.shell.bjorne.BjornePseudoPlugin</class>
    </plugin>
    <plugin>
        <id>org.jnode.shell.command.posix</id>
    </plugin>
    <testSpec>
        <title>simple</title>
        <command>test</command>
        <runMode>AS_SCRIPT</runMode>
        <script>#!bjorne
echo HI
        </script>
        <output>HI
</output>
        <rc>0</rc>
    </testSpec>
    <testSpec>
        <title>$?</title>
        <command>test</command>
        <runMode>AS_SCRIPT</runMode>
        <script>#!bjorne
true
echo $?
false
echo $?
</script>
        <output>0
1
</output>
        <rc>0</rc>
    </testSpec>
    <testSpec>
        <title>``</title>
        <command>test</command>
        <runMode>AS_SCRIPT</runMode>
        <script>#!bjorne
A=1
echo $A
B=`expr $A + 1`
echo $B
C=`echo $A $A`
echo $C
</script>
        <output>1
2
1 1
</output>
        <rc>0</rc>
    </testSpec>
    <testSpec>
        <title>if ... then ... fi</title>
        <command>test</command>
        <runMode>AS_SCRIPT</runMode>
        <script>#!bjorne
if true ; then echo HI ; fi
        </script>
        <output>HI
</output>
        <rc>0</rc>
    </testSpec>
    <testSpec>
        <title>if ... then ... else ... fi</title>
        <command>test</command>
        <runMode>AS_SCRIPT</runMode>
        <script>#!bjorne
if true ; then echo HI ; else echo HO; fi
if false ; then echo HI ; else echo HO; fi
        </script>
        <output>HI
HO
</output>
        <rc>0</rc>
    </testSpec>
    <testSpec>
        <title>if ... then ... elif ... else ... fi</title>
        <command>test</command>
        <runMode>AS_SCRIPT</runMode>
        <script>#!bjorne
if true ; then echo HI ; elif false ; then echo HO ; else echo HUM; fi
if false ; then echo HI ; elif true ; then echo HO ; else echo HUM; fi
if false ; then echo HI ; elif false ; then echo HO ; else echo HUM; fi
        </script>
        <output>HI
HO
HUM
</output>
        <rc>0</rc>
    </testSpec>
    <testSpec>
        <title>while ... do ... done</title>
        <command>test</command>
        <runMode>AS_SCRIPT</runMode>
        <script>#!bjorne
A=5
while expr $A != 0 ; do echo A is $A ; A=`expr $A - 1`; done
        </script>
        <output>1
A is 5
1
A is 4
1
A is 3
1
A is 2
1
A is 1
0
</output>
        <rc>0</rc>
    </testSpec>
</testSpecs>